<!DOCTYPE html><html><head>
  <title>RailsLayoutsAndTemplatesLab</title>
  <link rel="stylesheet" media="all" href="/assets/application-e80e8f2318043e8af94dddc2adad5a4f09739a8ebb323b3ab31cd71d45fd9113.css" data-turbolinks-track="true">
  <script src="/assets/application-567c60b615d5a6e9df6afc4136e6d65700f8b422df9e8c713e14e17db5babf8e.js" data-turbolinks-track="true"></script>
  
</head>
<body>

<h1>Flatiron Widgets Store</h1>


<h1>Products</h1>
  <h3>Test Product</h3>
  <div id="product-3221">This is a test description ...</div>
  <button class="js-more" data-id="3221">More Info</button>

<script type="text/javascript" charset="utf-8">
$(function() {
  $(".js-more").on("click", function() {
    const id = $(this).data("id");
    $.get("/products/" + id + ".json", function(data) {
      descriptionText = `<p>${data.description}</p><p>Inventory: ${data.inventory.toString()}</p><ul>`;
      console.log(data);
      console.log(data.orders);
      for (order of data.orders) {
        descriptionText += `<li>Order ${order.id.toString()}: ${order.created_at.date}</li>`
      }
      descriptionText += "</ul>"
      $("#product-" + id).html(descriptionText);
    });
  });
});
</script>




</body></html>